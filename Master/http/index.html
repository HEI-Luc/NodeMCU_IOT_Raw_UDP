<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"><script language="javascript"> 

function toHex(n) {
  var hex = n.toString(16);
  while (hex.length < 2) {hex = "0" + hex; }
  return hex;
}
function Color(){

	var Crange,Hrange,Wrange, h, l, s ;
	
	Crange = document.getElementById("Pcolor");
	Hrange = document.getElementById("Hue");
	Wrange = document.getElementById("Pwhite");
	
	h=Hrange.value/100;
	l=Crange.value/200+Wrange.value/100;
	s=Crange.value/100;
	
	if(l>1) l=1;
	
	
	//s=1;
    var r, g, b;

	var hue2rgb = function hue2rgb(p, q, t){
		if(t < 0) t += 1;
		if(t > 1) t -= 1;
		if(t < 1/6) return p + (q - p) * 6 * t;
		if(t < 1/2) return q;
		if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;
		return p;
	}

	var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
	var p = 2 * l - q;
	r = hue2rgb(p, q, h + 1/3);
	g = hue2rgb(p, q, h);
	b = hue2rgb(p, q, h - 1/3);
  
	var rgbHex=toHex(Math.round(r * 255))+toHex(Math.round(g * 255))+toHex(Math.round(b * 255));
	
	document.getElementById("fond").style.backgroundColor = rgbHex;
	return  rgbHex;
}
 LastSend = Date.now();
function loadXML(type,value) 
	{ 
		var xmlhttp;
		if (window.XMLHttpRequest)   
		{   
			xmlhttp=new XMLHttpRequest();   
		} 
		else   
		{   
			xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");   
		} 
		var Crange,Hrange,Wrange;
		Crange = document.getElementById("Pcolor");
		Hrange = document.getElementById("Hue");
		Wrange = document.getElementById("Pwhite");
		
		C=255-(Crange.value*255/100)
		H= Hrange.value*255/100;
		W= Wrange.value*255/100;
		
		if(C<1) C=1;
		if(W<0) W=0;
		if(H<0) H=0;
		C=Math.round(C);
		H=Math.round(H);
		W=Math.round(W);
		//if (LastSend+3000> Date.now())
		//{
			xmlhttp.open("GET","Rainbow.lua?"+"PC="+ C+"&HUE="+ H+"&PW="+ W,true); xmlhttp.send(); 
			//LastSend=Date.now();
		//}
		//else
		//label1
		
		Color();
	} 
</script> 

<style>
input[type=range].slider {
  -webkit-appearance: none;
  width: 80vw;
  margin: 000000vh 10vw;
}
input[type=range].slider:focus {
  outline: none;
}
input[type=range].slider::-webkit-slider-runnable-track {
  width: 100%;
  height: 10vh;
  cursor: pointer;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #68afff;
  border-radius: 10vh;
  border: 0px solid #000100;
}
input[type=range].slider::-webkit-slider-thumb {
  box-shadow: 0.8px 0.8px 1.9px rgba(0, 0, 62, 0.67), 0px 0px 0.8px rgba(0, 0, 88, 0.67);
  border: 1.9px solid rgba(0, 30, 0, 0.57);
  height:  10vh;
  width:  10vh;
  border-radius:  10vh;
  background: #007bff;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: 0px;
}
input[type=range].slider:focus::-webkit-slider-runnable-track {
  background: #82bdff;
}
input[type=range].slider::-moz-range-track {
  width: 100%;
  height: 10vh;
  cursor: pointer;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
  background: #68afff;
  border-radius: 5vh;
  border: 0px solid #000100;
}
input[type=range].slider::-moz-range-thumb {
  box-shadow: 0.8px 0.8px 1.9px rgba(0, 0, 62, 0.67), 0px 0px 0.8px rgba(0, 0, 88, 0.67);
  border: 1.9px solid rgba(0, 30, 0, 0.57);
  height:  10vh;
  width:  10vh;
  border-radius:  10vh;
  background: #007bff;
  cursor: pointer;
}
input[type=range].slider::-ms-track {
  width: 100%;
  height: 10vh;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
input[type=range].slider::-ms-fill-lower {
  background: #4ea1ff;
  border: 0px solid #000100;
  border-radius:  5vh;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range].slider::-ms-fill-upper {
  background: #68afff;
  border: 0px solid #000100;
  border-radius:  10vh;
  box-shadow: 1px 1px 1px #000000, 0px 0px 1px #0d0d0d;
}
input[type=range].slider::-ms-thumb {
  box-shadow: 0.8px 0.8px 1.9px rgba(0, 0, 62, 0.67), 0px 0px 0.8px rgba(0, 0, 88, 0.67);
  border: 1.9px solid rgba(0, 30, 0, 0.57);
  width: 10vh;
  border-radius: 10vh;
  background: #007bff;
  cursor: pointer;
  height: 10vh;
}
input[type=range].slider:focus::-ms-fill-lower {
  background: #68afff;
}
input[type=range].slider:focus::-ms-fill-upper {
  background: #82bdff;
}
body{

	font-size: 5vh;
	background: #bbddff;
	text-align: center;
}
.bouton{
	float: left; 
}

.myButton1, .myButton2, .myButton3 {
	font-size: 5vh;
	align: left;
	width: 34vw;
	height: 10vh;
	background-color:#2c362f;
	-moz-border-radius:1vh;
	-webkit-border-radius:1vh;
	border-radius:1vh;
	border:1px solid #808080;
	cursor:pointer;
	color:#ffffff;
	padding:0px 0px;
	position:absolute;
	top:0px;
	margin: -1vh 0vw;
	text-decoration:none;
	text-shadow:0px 1px 0px #2f6627;
}
.myButton:hover {
	background-color:#000000;
}

.myButton1{
	left:0vw;
}
.myButton2{
	left:33.333vw;
}
.myButton3{
	left:66.666vw;
}
.myButton:active {
}
input.switch:empty 
{     
margin-left: -999px; 
} 
input.switch:empty ~ label 
{     
position: relative;     
float: left;     
line-height: 1.6em;     
text-indent: 4em;     
margin: 2em 0;     
cursor: pointer;   
-webkit-user-select: none;   
-moz-user-select: none;   
-ms-user-select: none;   
user-select: none; 
} 
input.switch:empty ~ label:before,  
input.switch:empty ~ label:after 
{     
position: absolute;     
display: block;     
top: 0;     
bottom: 0;     
left: 0;     
content: '\2718';     
width: 3.6em;   
text-indent: 2.4em;   
color: #600;     
background-color: #c33;     
border-radius: 0.3em;     
box-shadow: inset 0 0.2em 0 rgba(0,0,0,0.3);
} 
input.switch:empty ~ label:after 
{   
content: ' ';     
width: 1.4em;     
top: 0.1em;     
bottom: 0.1em;   
text-align: center;   
text-indent: 0;     
margin-left: 0.1em;   
color: #f88;     
background-color: #fff;     
border-radius: 0.15em;     
box-shadow: inset 0 -0.2em 0 rgba(0,0,0,0.2);     
-webkit-transition: all 100ms ease-in;   
transition: all 100ms ease-in; 
} 
/* toggle on */ 
input.switch:checked ~ label:before 
{   
content: '\2714';   
text-indent: 0.5em;   
color: #6f6;     
background-color: #393; 
} 
input.switch:checked ~ label:after 
{     
margin-left: 2.1em;   
color: #6c6; 
} 
</style>
	</head>
	<body id="fond"  >
	
		<div>
			<input type="button" class="myButton1" value="Color" 	onclick="self.location.href='index.html'" 		href="index.html"/>
			<input type="button" class="myButton2" value="Selector" onclick="self.location.href='Selector.lua'" 	href="Selector.html"/>
			<input type="button" class="myButton3" value="White" 	onclick="self.location.href='White.html'"  		href="White.html"/>
		</div>
		<br>
		<h4>1 Valeur (intensité rgb)</h4>
		<input type="range" name="points" id="Pcolor" onmousemove="Color()" onchange="loadXML()" value="50" min="0" max="100" class="slider" >
		
		<h4>2 Couleur (Hue)</h4>
		<input type="range" name="points" id="Hue" onmousemove="Color()" onchange="loadXML()" value="50" min="0" max="100" class="slider" >
		
		<h4>1 White (intensité blanc)</h4>
		<input type="range" name="points" id="Pwhite" onmousemove="Color()" onchange="loadXML()"  value="50" min="0" max="100" class="slider" >
		<tr>
			<td>
				<div><input id="checkbox0" name="checkbox0" class="switch" onclick="loadXMLDoc(0)" type="checkbox"><label for="checkbox0">"Lumi 1</label></div>
			</td>
			<td>
				<div><input id="checkbox1" name="checkbox1" class="switch" onclick="loadXMLDoc(1)" type="checkbox"><label for="checkbox1">Lumi 2</label></div>
			</td>
			<td>
				<div><input id="checkbox2" name="checkbox2" class="switch" onclick="loadXMLDoc(2)" type="checkbox"><label for="checkbox2">Lumi 4</label></div>
			</td>
		</tr>
	</body>

</html>


